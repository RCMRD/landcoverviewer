Ext.define("GeoExt.form.action.Search",{extend:"Ext.form.Action",alternateClassName:"GeoExt.form.SearchAction",alias:"formaction.search",requires:["GeoExt.Form"],type:"search",run:function(){var n=this.form,t=GeoExt.Form.toFilter(n,this.logicalOp,this.wildcard);this.clientValidation===!1||n.isValid()?(this.abortPrevious&&n.prevResponse&&this.protocol.abort(n.prevResponse),this.form.prevResponse=this.protocol.read(Ext.applyIf({filter:t,callback:this.handleResponse,scope:this},this.readOptions))):this.clientValidation!==!1&&(this.failureType=Ext.form.action.Action.CLIENT_INVALID,n.afterAction(this,!1))},handleResponse:function(n){var t=this.form;t.prevResponse=null;this.response=n;n.success()?t.afterAction(this,!0):t.afterAction(this,!1);this.callback&&this.callback.call(this.scope,n)}})