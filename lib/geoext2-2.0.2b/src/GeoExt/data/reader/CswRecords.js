Ext.define("GeoExt.data.reader.CswRecords",{alternateClassName:["GeoExt.data.CSWRecordsReader"],extend:"Ext.data.reader.Json",alias:"reader.gx_cswrecords",requires:["GeoExt.Version"],constructor:function(n){this.model||(this.model="GeoExt.data.CswRecordsModel");this.callParent([n]);this.format||(this.format=new OpenLayers.Format.CSWGetRecords)},read:function(n){var t=n.data;return t||(t=n.responseXML,t&&t.documentElement||(t=n.responseText)),this.readRecords(t)},readRecords:function(n){(typeof n=="string"||n.nodeType)&&(n=this.format.read(n));var t=this.callParent([n.records]);return Ext.each(t.records,function(n){var r,t,i,u;for(r in n.data)if(t=n.data[r],t instanceof Array)for(i=0,u=t.length;i<u;++i)t[i]instanceof Object&&(t[i]=t[i].value)}),n.SearchResults&&(delete t.totalRecords,t.total=n.SearchResults.numberOfRecordsMatched),t}})